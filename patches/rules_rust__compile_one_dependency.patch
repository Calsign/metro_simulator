diff --git a/rust/private/rust.bzl b/rust/private/rust.bzl
index 4bcf6488..5b9d6196 100644
--- a/rust/private/rust.bzl
+++ b/rust/private/rust.bzl
@@ -668,6 +668,7 @@ _common_attrs = {
             is the root of the crate to be passed to rustc to build this crate.
         """),
         allow_files = [".rs"],
+        flags = ["DIRECT_COMPILE_TIME_INPUT"],
     ),
     "stamp": _stamp_attribute(default_value = 0),
     "version": attr.string(
